<html class="no-js" lang="zxx">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">    
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="manifest" href="site.webmanifest">
  <link rel="shortcut icon" type="../static/img/logo" href="../static/img/logo/logo_short.png">
  
  <title>Flood Safe Home</title>
      <!-- CSS here -->
      
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/owl.carousel.min.css">
    <link rel="stylesheet" href="static/css/slicknav.css">
    <link rel="stylesheet" href="static/css/flaticon.css">
    <link rel="stylesheet" href="static/css/progressbar_barfiller.css">
    <link rel="stylesheet" href="static/css/gijgo.css">
    <link rel="stylesheet" href="static/css/animate.min.css">
    <link rel="stylesheet" href="static/css/animated-headline.css">
    <link rel="stylesheet" href="static/css/magnific-popup.css">
    <link rel="stylesheet" href="static/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="static/css/themify-icons.css">
    <link rel="stylesheet" href="static/css/slick.css">
    <link rel="stylesheet" href="static/css/nice-select.css">
    <link rel="stylesheet" href="../static/css/style.css">
    <script src="static/js/modernizr.js"></script> 
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://js.arcgis.com/4.17/esri/themes/light/main.css">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="https://js.arcgis.com/4.17/"></script>
    <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
    

<script>
      require([
        "esri/WebMap",
        "esri/views/MapView",
        "esri/layers/FeatureLayer",
        "esri/widgets/Search",
        "esri/widgets/LayerList",
        "esri/widgets/Legend",
        "esri/widgets/Expand",
         "esri/widgets/BasemapToggle"
      ], function (WebMap, MapView, FeatureLayer, Search, LayerList, Legend, Expand, BasemapToggle) {
        const map = new WebMap({
          portalItem: {
            id: "d61a90015054449484e1bd332a3b75e2"
          }
        });

        // Add the map to a MapView
        const view = new MapView({
          container: "viewDiv",
          map: map
        });

        // Add the feature layer to search the location based on the address
        var featureLayerAddress = new FeatureLayer({
          url:
            "https://services2.arcgis.com/njxlOVQKvDzk10uN/arcgis/rest/services/ADDRESS/FeatureServer",
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "{FullAddress}",
            overwriteActions: true
          }
        });

         // Add the feature layer to search the location based on the parcel
        var featureLayerParcel = new FeatureLayer({
          url:
            "https://services2.arcgis.com/njxlOVQKvDzk10uN/arcgis/rest/services/PARCEL/FeatureServer",
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Parcel ID is {SITE_ID}",
            overwriteActions: true
          }
        });

        // Search widget start
        var searchWidget = new Search({
          view: view,
          allPlaceholder:"Type your address or parcel ID", //"type an address",//,
          //value:{{location|safe}},
          sources: [
            {
              layer: featureLayerAddress,         // Search by address
              searchFields:  ["FullAddress"],
              displayField: "FullAddress",
              exactMatch: false,
              outFields: ["FullAddress"],
              placeholder: "example: 1107 LAIR AVE",
              name: "Address",
              zoomScale: 500,
              resultSymbol: {
                r: 178,
                g: 34,
                b: 34,
                a: 0.7
              }
            },

            {
              layer: featureLayerParcel,         // Search by parcel
              searchFields: ["SITE_ID"],
              displayField: "SITE_ID",
              exactMatch: false,
              outFields: ["SITE_ID"],
              name: "Parcel",
              placeholder: "example: M-1686"
            }
          ]

    });

        // Add the search widget to the top left corner of the view
        view.ui.add(searchWidget, {
          position: "top-right"
        });

        // Get the value from the input box
        console.log(document.getElementById("submitButton"))
        document.getElementById("submitButton").onclick = (e)=> {
          e.preventDefault()
          let el = document.getElementById("tags")
          console.log(el.value)
          searchWidget.search(el.value).then((result)=> {
            console.log("result", result)
          })
        }

        // Search widget end

        // Add a legend to the panel of a
        // ListItem in a LayerList 
        const layerList = new LayerList({
          view: view,
          listItemCreatedFunction: function (event) {
            const item = event.item;
            if (item.layer.type != "group") {
              // don't show legend twice
              item.panel = {
                content: "legend",
                open: false
              };
            }
          }
        });
        view.ui.add(layerList, "top-right");

        //Basemap toggle
        var toggle = new BasemapToggle({
          view: view, // view that provides access to the map's 'topo-vector' basemap
          nextBasemap: "hybrid" // allows for toggling to the 'hybrid' basemap
        });

        // Add widget to the bottom right corner of the view
        view.ui.add(toggle, "bottom-right");

      });
  </script>
</head>

<body>

     <header class="header" style="height:100px; text; padding: 5px 15px 15px 15px">
        <!-- Header Start -->
        <div class="header-area header-transparent mapHeader">
            <div class="main-header ">
                <div class="header-bottom  header-sticky">
                    <div class="container-fluid">
                        <div class="row align-items-center">
                            <!-- Logo -->
                            <div class="col-xl-2 col-lg-2">
                                <div class="logo">
                                    <a href="/"><img src="static/img/logo/logo.png" alt=""></a>
                                </div>
                            </div>
                            <div class="col-xl-10 col-lg-10">
                                <div class="menu-wrapper  d-flex align-items-center justify-content-end">
                                    <!-- Main-menu -->
                                    <div class="main-menu d-none d-lg-block">
                                        <nav>
                                            <ul id="navigation">
                                                <li><a href="/">Home</a></li>
                                                <li><a href="/about">About</a>
                                                  <ul class="submenu">
                                                       <li><a href="/about#about">About</a></li>
                                                        <li><a href="/about#goals">Goals</a></li>
                                                        <li><a href="/about#team">Our Team</a></li>
                                                    </ul>
                                                </li>
                                                <li><a href="/freeboardproject">Freeboard Project</a>
                                                    <ul class="submenu">
                                                       <li><a href="/freeboardproject#introduction">Introduction</a></li>
                                                        <li><a href="/freeboardproject#objects">Objects</a></li>
                                                        <li><a href="/freeboardproject">Methodologies</a></a></li>
                                                    </ul>
                                                </li>
                                                <li><a href="/map"><b>Decision Making Map</b></a></li>
                                                <li><a href="/survey">Survey</a></li>
                                                <li><a href="/helpcenter">Help Center</a></li>
                                            </ul>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                            <!-- Mobile Menu -->
                            <div class="col-12">
                                <div class="mobile_menu d-block d-lg-none"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Header End -->
    </header>

  <!-- autosuggestion-->
   

    <script> 
    jQuery.noConflict();
    jQuery(function ($) {    
    
    $( "#tags" ).autocomplete({
      source: "{% url 'autosuggest' %}"
        });
     } );
    </script>
   <!--autosuggestion End-->

  <!-- Select your building information-->
 <div class="container left" style="z-index: 1;"> 
      <form method="get" action="/search">
            {% csrf_token %} 
      <p> 
        <h2 style="padding: 7px 0px 10px 0px; " class ="map-style-sidebar-title"><b class="map-style-sidebar-b"> Building Information</b></h2> 
          <div class="box">
          <b class="map-style"> User Type <sup style="color:red">*</sup></b> <br>
            <label>
            <input type="radio" name ="chk" value = "Homeowner" class="bar" required>Homeowner
            </label>
            <label>
            <input type="radio" name ="chk" value = "Community official" class="bar">Community official</option>
            </label><br>

          <b class="map-style">Building Type <sup style="color:red">*</sup></b><br>
            <label>
            <input type="radio" name ="selectBox" value = "new_building" class="bar" required>New building 
            </label>
            <label>
            <input type="radio" name ="selectBox" value = "existing_building" class="bar">Existing building</option>
            </label> <br>

          <b class="map-style">Address or Parcel ID <sup style="color:red">*</sup></b><br>
          <input type="text"  name="location"  id="tags" placeholder="Type your address or parceID" required class="text" value={{location|safe}}> <br>
          
          <b class="map-style">Square footage <sup style="color:red">*</sup></b> <br>
            <input type="text"  name="sqft"  id="sqft" placeholder="Type your building's square footage" required class="text"> <br>
          
          <b class="map-style">Number of Stories <sup style="color:red">*</sup> </b><br>
            <label>
            <input type="radio" name ="stories" id="stories" value = "1" class="bar" required>One story
            </label>
            <label>
            <input type="radio" name ="stories" id="stories" value = "2" class="bar">Two or more stories
            </label>
          </div>
      
      
        <br>
        &nbsp; &nbsp;  <button class="btn btn-primary" type="submit" > Get results</button>  
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
       <button class="btn btn-primary" type="submit" id="submitButton"> Show map</button>   
      </form>
      </p>
 <hr class="style-three">
 <!-- Select your building information end-->

 <!-- Side bar naviation menu-->
 <p>
  <h2 style="padding: 0px 0px 14px 0px; " class ="map-style-sidebar-title"><b class="map-style-sidebar-b map">Freeboard Cost Analysis Report</b></h2>
  <nav class="nav">
    <ul class="box ul">
      <li class="li"><a class="sidemenu" href="#section-1">Summary</a><br>
      <li class="li"><a class="sidemenu" href="#section-6">Monthly Savings</a></li>
      <li class="li"><a class="sidemenu" href="#section-2">Freeboard Cost</a>
      <li class="li"><a class="sidemenu" href="#section-3">Insurance Savings Per Year</a></li>
      <li class="li"><a class="sidemenu" href="#section-4">Expected Annual Flood Loss</a></li>
      <li class="li"><a class="sidemenu" href="#section-5">Time to Recover the Freeboard Cost</a></li>
      <li class="li"><a class="sidemenu" href="#">Save as a PDF</a></li>
    </ul> 
  </nav>
 </p>
  
  <!-- Side bar naviation menu end-->
  </div>

<!-- Error message-->                                
  {% if messages %}
  {% for message in messages %}
  <div class="alert {{ message.tags }} alert-dismissible fade show my-0" role="alert">
    <strong>{{ message }}</strong>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  {% endfor %}
  {% endif %}

<!-- Error message ends--> 

<!--ESRI Map-->
<div id = "pdf_wrap">
        <div id="viewDiv" style="margin: 0 15px 0 0;  "><section id="section-1"></section>
        </div>

<!--Result details-->
<!--Summary-->
<div class="left2 section-tittle mb-40"> 
  <h2 >Freeboard Cost Analysis Report</h2><hr class="style-four">
        <div class="optimal map-style">For your home,  <b style="font-size:35px">{{OptimalFreeboard}} ft </b> </span> of freeboard is recommended!<br>
          Your optimal monthly savings is <b style="font-size:35px">$ {{OptimalSaving}} </b> </u>!  </div><br><br>
     <section id="section-6"> <div class="pricing" > 

      <div class="pricing-slider" style="width:30%; height:20%; display:inline-block; margin:0px 52px 0px 0px; font-size: 20px; line-height:30px; ">
      
        <center><label class="form-slider ">
          <img id='img' src='static/img/construction/zero.png' style="widht:4000; height:250px; margin: 70px 0 0 0;"/><br><br>
          <datalist id="scale">
            <option>0</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
          </datalist>
          <input onchange='setImage(this)'
            type="range"
            value="{{OptimalFreeboard}}"
            class="slider" id="myRange" list="scale"
            data-price-input='{
                "0": "0ft freeboard",
                "1": "1ft freeboard",
                "2": "2ft freeboard",
                "3": "3ft freeboard",
                "4": "4ft freeboard"                
              }'
          />
        </label></center>
        <center><div class="pricing-slider-value" ></div></center> 
      </div>

      
  <div  style=" display:inline-block; vertical-align: top; "  >
      <!--Monthly savings-->
      <div
        class="pricing-item-price" 
        data-price-output='{
          "0": ["$", {{total_monthly_saving0}},""],
          "1": ["$", {{total_monthly_saving1}},""],
          "2": ["$", {{total_monthly_saving2}},""],
          "3": ["$", {{total_monthly_saving3}},""],
          "4": ["$", {{total_monthly_saving4}},""]
        }'
      >
    <p class="grid-style3 map-style" style="font-size: 20px; line-height:40px;"> When you add <b style="font-size:30px" class="map-style"> <span id="demo"> </span> ft</b> of  freeboard, </p>
    
    <div class="vl">  
      <p class="grid-style3 map-style"  style="font-size: 20px; line-height:40px;">
        <b style="font-size:30px" class="map-style"><span class="pricing-item-price-currency">$</span>
        <span class="pricing-item-price-amount">0</span>
        <span class="pricing-item-price-after"></span></b> estimated monthly savings <img id='img' src='static/img/logo/blue_question.png' style="widht:15; height:15px;"  title="Monthly Savinngs is the freeboard's monthly loan payment subtracted from the monthly premium savings of the freeboard added to its monthly flood los reduction."/></p>
      
   
      <!--Freeboard cost-->
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$", {{FreeboardCost0}},""],
          "1": ["$", {{FreeboardCost1}},""],
          "2": ["$", {{FreeboardCost2}},""],
          "3": ["$", {{FreeboardCost3}},""],
          "4": ["$", {{FreeboardCost4}},""]
        }'
      >
      <!--Part of title...Freeboard cost is calculated as a total loan amount with 30-year term and 3% interest rate. The cost of the freeboard with no loan is $7490" --> 
      <p class="grid-style3 map-style"  style="font-size: 20px; line-height:40px;">
      <b style="font-size:30px" class="map-style"> 
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b>estimated new construction cost of freeboard  <img id='img' src='static/img/logo/blue_question.png' style="widht:15; height:15px;" title="Freeboard cost is the product of freeboard height and cost factor of (0.023) multiplied by the construction cost of the home. Actual building construction cost is {{Actual_construction_cost}} and monthly amortized cost is {{Amortized_FC_json}}"/></p>
      </div>   
        

      <!--amortized cost-->
        <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$",{{Amortized_FC0}},""],
          "1": ["$",{{Amortized_FC1}},""],
          "2": ["$",{{Amortized_FC2}},""],
          "3": ["$",{{Amortized_FC3}},""],
          "4": ["$",{{Amortized_FC4}},""]
        }'
      > 
      <p class="grid-style3 map-style"  style="font-size: 20px; line-height:40px;">
      <b style="font-size:30px" class="map-style"> 
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b> amortized cost per month <img id='img' src='static/img/logo/blue_question.png' style="widht:15; height:15px;" title=""/></p>
      </div>   
      
      <!--insurance-->
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$", {{monthly_premium_saving0}},""],
          "1": ["$", {{monthly_premium_saving1}},""],
          "2": ["$", {{monthly_premium_saving2}},""],
          "3": ["$", {{monthly_premium_saving3}},""],
          "4": ["$", {{monthly_premium_saving4}},""]
        }'
      >
      <p class="grid-style3 map-style" style="font-size: 20px; line-height:40px;">
      <b style="font-size:30px" class="map-style"> 
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b> insurance savings per month <img id='img' src='static/img/logo/blue_question.png' style="widht:15; height:15px;" title="Insurance savings per month is the difference between the annual premium calculated for adding the freeboard and the annual premium with no freeboard added divided by 12."/>
      </div>

       <!--Flood loss-->
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$", {{monthly_avoided_loss0}},""],
          "1": ["$", {{monthly_avoided_loss1}},""],
          "2": ["$", {{monthly_avoided_loss2}},""],
          "3": ["$", {{monthly_avoided_loss3}},""],
          "4": ["$", {{monthly_avoided_loss4}},""]
        }'
      >
      <p class="grid-style3 map-style" style="font-size: 20px; line-height:40px;">
      <b style="font-size:30px" class="map-style"> 
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b> reduction in expected flood losses per month <img id='img' src='static/img/logo/blue_question.png' style="widht:15; height:15px;" title="Reduction In Flood Losses Per Month is the difference between the expected annual flood loss calculated for adding the freeboard and the expected annual  loss with no freeboard added divided by 12."/>
      </div>

      <!--Time to recover-->
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["", {{time_to_recover_FC_MS0}},"month(s)"],
          "1": ["", {{time_to_recover_FC_MS1}},"month(s)"],
          "2": ["", {{time_to_recover_FC_MS2}},"month(s)"],
          "3": ["", {{time_to_recover_FC_MS3}},"month(s)"],
          "4": ["", {{time_to_recover_FC_MS4}},"month(s)"]
        }'
      >
      <p class="grid-style3 map-style" style="font-size: 20px; line-height:40px;">
      <b style="font-size:30px" class="map-style"> 
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b> time  to recover the elevation cost <img id='img' src='static/img/logo/blue_question.png' style="widht:15; height:15px;"  title="Time To Recover The Cost is the Time required to offset the freeboard cost through the monthly savings."/>
      </div>

      <!-- Life time benefit
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$", {{netbenefit0}},""],
          "1": ["$", {{netbenefit1}},""],
          "2": ["$", {{netbenefit2}},""],
          "3": ["$", {{netbenefit3}},""],
          "4": ["$", {{netbenefit4}},""]
        }'
      >
      <p class="grid-style3" title="">| Lifetime benefits of the elevation <img id='img' src='static/img/logo/blue_question.png' style="widht:15; height:15px;"/> : 
        <span class="pricing-item-price-currency"></span>
        <span class="pricing-item-price-amount">0</span>
        <span class="pricing-item-price-after">month(s)</span>
      </div> -->
      </div>
    </div>
    </div>
  </div></section><br><br><br>
</div>  

<!--Monthly saving-->
  <div class="left3 section-tittle-detail mb-40"> 
     <h2 class="map-style" style="padding: 20px 0 0 0;">Monthly Savings</h2><hr class="style-four">
      <div style="width:30%; height:20%; display:inline-block; margin:0px 50px 0px 0px; vertical-align:top; text-align: justify;" >
        While the increase in your monthly mortgage payment for adding freeboard will be minor, the monthly savings are substantial, ranging from ${{total_monthly_saving1}} to ${{OptimalSaving}}. <br>
        <br>BFE stands for <b>Base Flood Elevation</b>.
      </div>
      <div style="display:inline-block" class="zc-body">     <div id="chart5" class="chart5"></div></div> <br><br><br>
      
        <b class="map-style" style="padding: 0px 63px 0px 0px;">Home square footage:</b>{{SquareFootage}}<br><br>
        <b class="map-style" style="padding: 0px 28px 0px 0px;">Flood insurance coverage:</b> 924,000 - Content  &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<input type="range" id="js_amount_range_2" value="924000" min="0" max="100000"> <input type="number" id="js_amount_input_2" value="924000" min="0" max="100000" style="height:25px"></p>
        <p style="padding: 0px 0px 0px 230px;"  class="map-style">CRS rate is 5, with a 25% discount &nbsp; &nbsp;&nbsp; &nbsp; <input type="range" id="js_amount_range_2" value="25" min="1" max="45"> <input type="number" id="js_amount_input_2" value="25" min="1" max="45" style="height:25px"><br>
        <p style="padding: 0px 0px 0px 230px;"  class="map-style">CRS community rating</p> 
        <b class="map-style" style="padding: 0px 89px 0px 0px;">Number of stories:</b> {{No_Floors}}<br><br>
        <b class="map-style" style="padding: 0px 143px 0px 0px;">Flood zone:</b> {{floodzone}}<br><br>
        <b class="map-style">Expected occupancy timeline:</b>&nbsp;&nbsp;30 years   &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<input type="range" id="js_amount_range_1" value="30" min="0" max="100" > <input type="number" id="js_amount_input_1" value="15" min="0" max="100" style="height:25px"><br><br>
        <p style="padding: 0px 0px 0px 230px;" class="map-style">231,000 - Building &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <input type="range" id="js_amount_range_2" value="231000" min="0" max="250000"> <input type="number" id="js_amount_input_2" value="231000" min="0" max="250000" style="height:25px"></p>
        
        <canvas id="chart" width="400" height="150">Graph is not appeared. Will fix it soon.</canvas> <i>The graph is not displayed. Will fix it soon.</i><br><br><br><br>
        
      <section id="section-2"><p class=" map-style">
       ● The location entered is in a/an {{floodzone}} flood zone, and insurance not/is mandatory.<br>
       ● Maximum limits of $250,000 for building and $100,000 for content with deductible of $1,250. <br>
       <!--● The property is located in a community that is currently participating in the Community Rating System (CRS) discount. <br>
       ● The CRS rate is …, with a ...% discount on flood insurance. -->
      </p></section>
      <br><br>

  </div> 

<!--Freeboard cost-->
  <div class="left3 section-tittle-detail mb-40"> 
     <h2 class="map-style">Freeboard Cost</h2> <hr class="style-four">
      <div style="width:30%; height:20%; display:inline-block; margin:0px 50px 0px 0px; vertical-align: top; text-align: justify;">
        <section id="section-3">The expense of incorporating freeboard into new structures is surprisingly low. The construction cost of increasing elevation for your home range from $ {{FreeboardCost1}} to $ {{FreeboardCost4}}. 
      </section></div>  
      <div style="display:inline-block" class="zc-body">     <div id="chart1" class="chart1"></div></div>
  </div>

<!--Insurance-->
  <div class="left3 section-tittle-detail mb-40"> 
    <h2 class="map-style"><br>Insurance Savings Per Month</h2> <hr class="style-four">
     <div style="width:30%; height:20%; display:inline-block; margin:0px 50px 0px 0px; vertical-align: top; text-align: justify;">
       <section id="section-4"> Constructing your home with additional freeboard increases flood premiums savings per month $ {{total_monthly_saving0}}  to $ {{total_monthly_saving4}}.</section> <br><br>
      </p> 
     </div>
     <div style="display:inline-block" class="zc-body"> 
      <center>
       <div id="chart2" class="chart2"></div>
      </center> </div>
  </div>

<!--Reduction in expected flood losses-->
<div class="left3 section-tittle-detail mb-40"> 
     <h2 class="map-style"><br>Expected Annual Flood Loss</h2><hr class="style-four">
      <section id="section-5"> 
        <div style="width:30%; height:20%; display:inline-block; margin:0px 50px 0px 0px; vertical-align: top; text-align: justify;">
          <section id="section-5"> Adding a freeboard also reduces flood losses in flooding events from $ {{monthly_avoided_loss1}} to $ {{monthly_avoided_loss4}}. </section> 
        </div>
      <div style="display:inline-block" class="zc-body">     <div id="chart3" class="chart3"></div></div>
      </section>
  </div>

<!--Recover-->
<div class="left3 section-tittle-detail mb-40"> 
     <h2 class="map-style"><br>Time to Recover the Freeboard Cost</h2><hr class="style-four">
      <div style="width:30%; height:20%; display:inline-block; margin:0px 50px 0px 0px; vertical-align: top; text-align: justify;">

        The time required to recover the cost of freeboard is surprisingly low for new construction when considering reductions in flood insurance premiums and the expected reductions in flood loss. 
        Considering ONLY flood insurance premium savings, the time to recover the additional cost of construction ranges between {{time_to_recover_FC_MS1}} month(s) and {{time_to_recover_FC_MS4}} month(s). 
        Considering both savings in flood insurance premiums and expected reductions in flood loss, this is decreased to between {{time_to_recover_FC_MS1}} month(s) and {{time_to_recover_FC_MS4}} month(s). 
        
      </div>
      <div style="display:inline-block" class="zc-body">     <div id="chart4" class="chart4"></div></div>
  </div>

<!--Overall-->
  <div class="left3 section-tittle-detail mb-40"> 
     <h2 class="map-style"><br>Overall graph</h2><hr class="style-four">
      <div style="display:inline-block; margin: 0 0 0 5px;" class="zc-body">     <div id="myChart" class="chart--container1"></div></div>
  </div>

<!--Freeboard graph
<div class="left3 section-tittle-detail mb-40">
  <hr class="style-two">  
       <h2 class="map-style">Freeboard and Benefit Graph </h2><br>
      {{ div | safe }}   
           <table align = "center" class="benefitTable">
              <tr> 
                <td></td>
                <td><img src="../static/img/construction/feet0.png" style="width: 50px; height:50px;"><br><b class="map-style">BFE <br>+0 feet</b></td>
                <td><img src="../static/img/construction/feet1.png" style="width: 50px; height:50px;"><br><b class="map-style"> BFE <br>+1 feet</b></td>
                <td><img src="../static/img/construction/feet2.png" style="width: 50px; height:50px;"><br><b class="map-style">BFE <br>+2 feet</b></td>
                <td><img src="../static/img/construction/feet3.png" style="width: 50px; height:50px;"><br><b class="map-style">BFE <br>+3 feet</b></td>
                <td><img src="../static/img/construction/feet4.png" style="width: 50px; height:50px;"><br><b class="map-style">BFE <br>+4 feet</b></td>
              </tr>
              <tr> 
                <td><img src="../static/img/construction/cost.png" style="width: 30px; height:30px;"><br><b class="map-style">Elevation cost</b></td>
                <td>${{FreeboardCost0}}</td>
                <td>${{FreeboardCost1}}</td>
                <td>${{FreeboardCost2}}</td>
                <td>${{FreeboardCost3}}</td>
                <td>${{FreeboardCost4}}</td>
              </tr>
              <tr> 
                <td><img src="../static/img/construction/insurance.png" style="width: 25px; height:25px;"><br><b class="map-style">Insurance savings per month</b></td>
                <td>${{monthly_premium_saving0}}</td>
                <td>${{monthly_premium_saving1}}</td>
                <td>${{monthly_premium_saving2}}</td>
                <td>${{monthly_premium_saving3}}</td>
                <td>${{monthly_premium_saving4}}</td>
              </tr>
              <tr> 
                <td><img src="../static/img/construction/loss.png" style="width: 25px; height:25px;"><br><b class="map-style">Reduction in expected <br>flood losses per month</b></td>
                <td>${{monthly_avoided_loss0}}</td>
                <td>${{monthly_avoided_loss1}}</td>
                <td>${{monthly_avoided_loss2}}</td>
                <td>${{monthly_avoided_loss3}}</td>
                <td>${{monthly_avoided_loss4}}</td>
              </tr>
              <tr></tr>
              <tr> 
                <td><img src="../static/img/construction/time.png" style="width: 25px; height:25px;"><br><b class="map-style">Time to recover <br>the elevation cost</b></td>
              <td>{{time_to_recover_FC_MS0}}</td>
                <td>{{time_to_recover_FC_MS1}}</td>
                <td>{{time_to_recover_FC_MS2}}</td>
                <td>{{time_to_recover_FC_MS3}}</td>
                <td>{{time_to_recover_FC_MS4}}</td>
                  </tr>
              <tr> 
                <td><img src="../static/img/construction/benefit.png" style="width: 25px; height:25px;"><br><b class="map-style">Lifetime benefits of <br>the elevation</b></td>
                <td>${{netbenefit0}}</td>
                <td>${{netbenefit1}}</td>
                <td>${{netbenefit2}}</td>
                <td>${{netbenefit3}}</td>
                <td>${{netbenefit4}}</td>
              </tr>
              <tr> 
                <td><img src="../static/img/construction/benefit.png" style="width: 25px; height:25px;"><br><b class="map-style">Monthly savings</b></td>
                <td>${{total_monthly_saving0}}</td>
                <td>${{total_monthly_saving1}}</td>
                <td>${{total_monthly_saving2}}</td>
                <td>${{total_monthly_saving3}}</td>
                <td>${{total_monthly_saving4}}</td>
              </tr>
          </table>
  </div>
</div> -->

<!--Result details End-->

<!--zingchart script-->
  <script>
   /*zingchart*/
  // DEFINE CHART LOCATIONS (IDS)
  // -----------------------------
  // Main chart render location
  // var chartId = 'myChart';
  var chart1Id = 'chart1';
  var chart2Id = 'chart2';
  var chart3Id = 'chart3';
  var chart4Id = 'chart4';
  var chart5Id = 'chart5';
  var chart6Id = 'chart6';

  // CHART CONFIG
  // -----------------------------

  // Chart 1
  var chart1Data = {
    type: 'line',
    title: {
      fontWeight: 'normal',
      fontColor: 'var(--black)',
      align: 'left',
      marginLeft: '2rem'
    },
    cursor: 'hand',
    globals: {
      fontColor: 'var(--fontColor)',
      fontfamily: 'Raleway'
    },
    legend: {
      borderWidth: 0,
      layout: '1',
      marker: {
        type: 'pie'
      }
    },
    scaleX: { 
      markers: [],
      labels: ['BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      tick: {
        visible: false
      },
    crosshairX: {},
    },
    scaleY: {
    format: "$%v",
    negation: "currency",
    thousandsSeparator: ", "
    },
    plot: {
    tooltip:{ fontColor: 'var(--white)'},
    marker : {
      type : 'circle',
      borderWidth : 1,
      borderColor : 'var(--red)',
      size : 5,
      backgroundColor : 'var(--red)'
    },
    hoverMarker : {
      type : 'circle',
      size : 6,
      backgroundColor : '#FFF',
      borderWidth : 1,
      borderColor : 'var(--red)'
    },
    animation : {
      effect : 1,
      sequence : 2,
      speed : 100
    },
  },
    series: [
      {
        text: 'Freeboard cost',
        lineColor: 'var(--red)',
        values: {{ freeboardCost_json}}   
      }
    ]
  };

  // Chart 2
  var chart2Data = {
    type: 'line',
    title: {
      fontWeight: 'normal',
      fontColor: 'var(--black)',
      align: 'left',
      marginLeft: '2rem'
    },
    tootltip: {
      visible:false
    },
    cursor: 'hand',
    globals: {
      fontColor: 'var(--fontColor)',
      fontfamily: 'Raleway'
    },
    legend: {
      borderWidth: 0,
      layout: '1',
      marker: {
        type: 'pie'
      }
    },
    scaleX: { 
      markers: [],
      labels: ['BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      tick: {
        visible: false
      },
    crosshairX: {},
    },
    scaleY: {
    format: "$%v",
    negation: "currency"
    },
    plot: {
    tooltip:{ fontColor: 'var(--white)'},
    marker : {
      type : 'circle',
      borderWidth : 1,
      borderColor : 'var(--blue)',
      size : 5,
      backgroundColor : 'var(--blue)'
    },
    hoverMarker : {
      type : 'circle',
      size : 6,
      backgroundColor : '#FFF',
      borderWidth : 1,
      borderColor : 'var(--blue)'
    },
    animation : {
      effect : 1,
      sequence : 2,
      speed : 100
    },
  },
    series: [
      {
        values: {{monthly_premium_saving_json}},
        text: 'Insurance savings per mont',
        lineColor: 'var(--blue)'      
      }
    ]
  };

  // Chart 3
  var chart3Data = {
    type: 'line',
    title: {
      fontWeight: 'normal',
      fontColor: 'var(--black)',
      align: 'left',
      marginLeft: '2rem'
    },
    tootltip: {
      visible:false
    },
    cursor: 'hand',
    globals: {
      fontColor: 'var(--fontColor)',
      fontfamily: 'Raleway'
    },
    legend: {
      borderWidth: 0,
      layout: '1',
      marker: {
        type: 'pie'
      }
    },
    scaleX: { 
      markers: [],
      labels: ['BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      tick: {
        visible: false
      },
    crosshairX: {},
    },
    scaleY: {
    format: "$%v",
    negation: "currency",
    },
    plot: {
    tooltip:{ fontColor: 'var(--white)'},
    marker : {
      type : 'circle',
      borderWidth : 1,
      borderColor : 'var(--orange)',
      size : 5,
      backgroundColor : 'var(--orange)'
    },
    hoverMarker : {
      type : 'circle',
      size : 6,
      backgroundColor : '#FFF',
      borderWidth : 1,
      borderColor : 'var(--orange)'
    },
    animation : {
      effect : 1,
      sequence : 2,
      speed : 100
    },
  },
    series: [
      {
        values: {{monthly_avoided_loss_json}},
        text: 'Expected flood loss per month',
        lineColor: 'var(--orange)'      
      }
    ]
  };

  // Chart 4
  var chart4Data = {
    type: 'line',
    scaleY: {
      label: {
        fontWeight: 'normal',
        fontSize: 50
      },
    },
    title: {
      fontWeight: 'normal',
      fontColor: 'var(--black)',
      align: 'left',
      marginLeft: '2rem'
    },
    tootltip: {
      visible:false
    },
    cursor: 'hand',
    globals: {
      fontColor: 'var(--fontColor)',
      fontfamily: 'Raleway'
    },
    legend: {
      borderWidth: 0,
      layout: '1',
      marker: {
        type: 'pie'
      }
    },
    scaleX: { 
      markers: [],
      labels: ['BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      tick: {
        visible: false
      },
    crosshairX: {},
    },
    scaleY: {
    label: {
      text: "Month(s)",
      fontWeight: 'normal'
    },
    },
    plot: {
    tooltip:{ fontColor: 'var(--white)'},
    marker : {
      type : 'circle',
      borderWidth : 1,
      borderColor : 'var(--pink)',
      size : 5,
      backgroundColor : 'var(--pink)'
    },
    hoverMarker : {
      type : 'circle',
      size : 6,
      backgroundColor : '#FFF',
      borderWidth : 1,
      borderColor : 'var(--pink)'
    },
    animation : {
      effect : 1,
      sequence : 2,
      speed : 100
    },
  },
    series: [
      {
        values: {{time_to_recover_FC_MS}},
        text: 'Time to recover the elevation cost',
        lineColor: 'var(--pink)'      
      }
    ]
  };

  // Chart 5
  var chart5Data = {
    type: 'line',
    title: {
      fontWeight: 'normal',
      fontColor: 'var(--black)',
      align: 'left',
      marginLeft: '2rem'
    },
    tootltip: {
      visible:false
    },
    cursor: 'hand',
    globals: {
      fontColor: 'var(--fontColor)',
      fontfamily: 'Raleway'
    },
    legend: {
      borderWidth: 0,
      layout: '1',
      marker: {
        type: 'pie'
      }
    },
    scaleX: { 
      markers: [],
      labels: ['BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      tick: {
        visible: false
      },
    crosshairX: {},
    },    
    scaleY: {
    format: "$%v",
    negation: "currency"
    },
    plot: {
    tooltip:{ fontColor: 'var(--white)'},
    marker : {
      type : 'circle',
      borderWidth : 1,
      borderColor : 'var(--green)',
      size : 5,
      backgroundColor : 'var(--green)'
    },
    hoverMarker : {
      type : 'circle',
      size : 6,
      backgroundColor : '#FFF',
      borderWidth : 1,
      borderColor : 'var(--green)'
    },
    animation : {
      effect : 1,
      sequence : 2,
      speed : 100
    },
  },
    series: [
      {
        values: {{ total_monthly_saving_json}}, 
        text: 'Monthly savings',
        lineColor: 'var(--green)'      
      }
    ]
  };

  // Chart 6
  // DEFINE DATA
  // -----------------------------
  let chartData = [
    {
      text: 'Monthly savings ($)',
      values: {{ total_monthly_saving_json}},
      backgroundColor: '#1EA33C',
      legendMarker: {
        borderColor: '#1EA33C'
      },
      lineColor: '#1EA33C'
    },
    {
      text: 'Freeboard cost ($)',
      values: {{freeboardCost_json}},
      backgroundColor: '#DB2D3D',
      legendMarker: {
        borderColor: '#DB2D3D'
      },
      lineColor: '#DB2D3D'
    },
    {
      text: 'Insurance savings per month ($)',
      values: {{monthly_premium_saving_json}},
      backgroundColor: '#0077FF',
      legendMarker: {
        borderColor: '#0077FF'
      },
      lineColor: '#0077FF'
    },
    {
      text: 'Expected flood loss per month ($)',
      values: {{monthly_avoided_loss_json}},
      backgroundColor: '#FD7E14',
      legendMarker: {
        borderColor: '#FD7E14'
      },
      lineColor: '#FD7E14'
    },
    {
      text: 'Time to recover the elevation cost (month(s))',
      fontSize: 20,
      values: {{time_to_recover_FC_MS}},
      backgroundColor: '#EC5B9D',
      legendMarker: {
        borderColor: '#EC5B9D'
      },
      lineColor: '#EC5B9D'
    }
  ];

  // CHART CONFIG
  // -----------------------------
  let chartConfig = {
    type: 'hbullet',
    backgroundColor: '#f4f4f4',
    legend: {
      marginBottom: '-20%',
      backgroundColor: 'none',
      borderWidth: '0px',
      item: {
        cursor: 'hand',
        fontColor: '#307C70',
        fontFamily: 'arial',
        fontSize: '12px',
        fontWeight: 'normal',
        shadow: false
      },
      layout: 'float',
      marker: {
        cursor: 'hand'
      },
      position: '50% 12%',
      toggleAction: 'remove'
    },
    plot: {
      alpha: 1,
      backgroundColor: '#000000',
      barSpace: '50%',
      tooltipText: 'Value: %v',
      animation: {
        effect: 'ANIMATION_EXPAND_BOTTOM',
        method: 'ANIMATION_LINEAR',
        sequence: 'null'
      }
    },
    plotarea: {
      margin: '22% 5% 15% 10%',
      backgroundColor: '#ffffff'
    },
    scaleX: {
      values: ['BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      guide: {
        alpha: 0.5,
        lineColor: '#434F5B',
        lineStyle: 'solid'
      },
      item: {
        fontColor: '#434F5B',
        fontFamily: 'arial',
        fontSize: '12px',
        fontWeight: 'normal',
        offsetX: '-5%'
      },
      lineColor: '#434F5B',
      lineStyle: 'solid',
      lineWidth: '1px',
      tick: {
        lineColor: '#434F5B',
        lineWidth: '1px'
      }
    },
    scaleY: {
      format: '%v',
      guide: {
        alpha: 0.25,
        lineColor: '#434F5B',
        lineStyle: 'solid'
      },
      item: {
        fontColor: '#434F5B',
        fontFamily: 'arial',
        fontSize: '12px',
        fontWeight: 'normal',
        offsetY: '5%'
      },
      lineColor: '#434F5B',
      lineStyle: 'solid',
      lineWidth: '1px',
      tick: {
        lineColor: '#434F5B',
        lineWidth: '1px'
      }
    },
    series: chartData
  };

  // RENDER CHARTS
  // -----------------------------

  // Chart 1
  zingchart.render({ 
    id: chart1Id, 
    data : chart1Data, 
    width: '100%'
  });

  // Chart 2
  zingchart.render({ 
    id: chart2Id, 
    data : chart2Data, 
    width: '100%'
  });

  // Chart 3
  zingchart.render({ 
    id: chart3Id, 
    data : chart3Data, 
    width: '100%'
  });

  // Chart 4
  zingchart.render({ 
    id: chart4Id, 
    data : chart4Data, 
    width: '100%'
  });

  // Chart 5
  zingchart.render({ 
    id: chart5Id, 
    data : chart5Data, 
    width: '100%'
  });

  // Chart 6
  zingchart.render({
    id: 'myChart',
    data: chartConfig,
    width: '100%',
    height:'80%'
  });

var rangeslider_1 = ('#js_amount_range_1');
var rangeslider_2 = ('#js_amount_range_2');
var amount_1 = ('#js_amount_input_1');
var amount_2 = ('#js_amount_input_2');
var ctx = document.getElementById('chart').getContext('2d');

var chart = (ctx, {
          type: 'line',
          data: {
              labels: ['+0ft freeboard','+`0`ft freeboard'],
              datasets: [{
                  label: 'My First dataset',
                  backgroundColor: '#33b5e5',
                  borderColor: '#33b5e5',
                  data: [15,10]   
              }]
          },
          options: {
            responsive:true,
            legend:{
              display:false,
            },
            title: {
              display:false,
              text:'Text',
            },
            
            scales: {
              xAxes: [{
                display: true
              }],
              yAxes: [{
                display: true,
                scaleLabel: {
                  display: true,
                  labelString: 'dollar',
                },
                ticks: {
                  min: 0,
                  stepSize: 10
                }
              }]
            }
          }
  }); 

rangeslider_1
  .rangeslider({
    polyfill: false
  })
  .on('input', function() {
    // Update input
    amount_1[0].value = this.value;
  
    // Update chart

    chart.data.datasets.forEach((dataset) => {
        dataset.data[0]=this.value;
    });
    chart.update();  
    //Update form   
});

rangeslider_2
  .rangeslider({
    polyfill: false
  })
  .on('input', function() {
    // Update input
    amount_2[0].value = this.value;
  
    // Update chart
    chart.data.datasets.forEach((dataset) => {
        dataset.data[1]=this.value;
    });
    chart.update();  
    //Update form   
});

amount_1.on('input', function() {
  rangeslider_1.val(this.value).change();
  
  // Update chart
  chart.data.datasets.forEach((dataset) => {
    dataset.data.pop();
  });
  chart.data.datasets.forEach((dataset) => {
    dataset.data[0]=this.value;
  });
  chart.update()    
  //Update form   
  
});

amount_2.on('input', function() {
  rangeslider_2.val(this.value).change();
  
  // Update chart
  chart.data.datasets.forEach((dataset) => {
    dataset.data.pop();
  });
  chart.data.datasets.forEach((dataset) => {
    dataset.data[1]=this.value;
  });
  chart.update()    
  //Update form   
  
});
    </script>

    <!-- Scroll Up -->
    <div id="back-top" >
        <a title="Go to Top" href="#"> <i class="fas fa-level-up-alt"></i></a>
    </div>
      <script src = "https://code.highcharts.com/highcharts.js"></script>
    <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-2.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-2.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-tables-2.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-api-2.2.1.min.js"></script> 
    <!-- {{script_insurance | safe}}-->
    <script src="./static/js/disclaimer.js"></script>
    <!-- Jquery-->
    <script src="./static/js/vendor/jquery-1.12.4.min.js"></script>

    
    <!-- Jquery Mobile Menu -->

    <!--save as pdf js
    <script src="./static/js/jquery.slicknav.min.js"></script>
    <script type = "text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script type = "text/javascript" src = "https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script type = "text/javascript" src = "http://code.jquery.com/jquery-latest.min.js"></script>
-->
</body>
</html>



